function toggleSearchImage(e) { var t; t = e ? "url(/img/css/mobile_x.png)" : "url(/img/css/mobile_search.png)", $("#search_button").css({ backgroundImage: t }) } function getIsMobileWidth() { return "absolute" == $("#search").css("position") } function initThemeToggle() { $(".themeToggle").off(); var e = "Switch to light theme", t = $(".dark .themeToggle"); $(t).attr("title", e), $(t).attr("aria-label", e), $(".theme", t).text("Light"), $(".themeToggle").click(function (e) { if ($("html").toggleClass("dark"), $("html").hasClass("dark")) { theme = "dark"; var t = "Switch to light theme"; $(this).attr("title", t), $(this).attr("aria-label", t), $(".theme", this).text("Light"); var n = new Date; n.setTime(n.getTime() + 2592e6); var i = "expires=" + n.toGMTString(); document.cookie = "fi_dark_theme=1;path=/;" + i } else { theme = "light"; t = "Switch to dark theme"; $(this).attr("title", t), $(this).attr("aria-label", t), $(".theme", this).text("Dark"), document.cookie = "fi_dark_theme=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;" } gtag("event", "switch", { event_category: "theme", event_label: theme }), $("#menu").slicknav("close"), e.preventDefault ? e.preventDefault() : e.returnValue = !1 }) } function loadpreviousTypes() { var e = $("#showPreviousTypes").data("nextdate"); $.ajax({ type: "POST", url: "/lib/dailytype.php", dataType: "json", data: { nextdate: e }, success: function (t) { if (!("error" in t)) { var n = ""; $.each(t.types, function (e, t) { var i = '<li class="feed-entry loading"><time datetime="' + e + '">' + t.caldate + '</time><h3><a href="/extension/' + t.ext + '">.' + t.ext.toUpperCase() + '</a></h3><p class="feedtype">' + t.type + "</p><p>" + t.definition + "</p></li>"; n += i }), $(n).appendTo($(".previousTypes .feed")).hide().slideDown("fast", function () { $(".previousTypes .feed-entry").removeClass("loading") }) } e = t.nextdate, $("#showPreviousTypes").data("nextdate", e), t.nextdate || $(".previousTypes .loadmore").hide() }, error: function () { } }) } if (function (e, t, n) { function i(t, n) { this.element = t, this.settings = e.extend({}, o, n), this._defaults = o, this._name = s, this.init() } var o = { label: "", duplicate: !0, duration: 200, easingOpen: "swing", easingClose: "swing", closedSymbol: "&#9658;", openedSymbol: "&#9660;", prependTo: "header", parentTag: "a", closeOnClick: !1, allowParentLinks: !1, nestedParentLinks: !0, showChildren: !1, removeIds: !1, removeClasses: !1, brand: "", init: function () { }, beforeOpen: function () { }, beforeClose: function () { }, afterOpen: function () { }, afterClose: function () { } }, s = "slicknav", a = "slicknav"; i.prototype.init = function () { var n, i, o = this, s = e(this.element), r = this.settings; if (r.duplicate ? (o.mobileNav = s.clone(), o.mobileNav.removeAttr("id"), o.mobileNav.find("*").each(function (t, n) { e(n).removeAttr("id") })) : (o.mobileNav = s, o.mobileNav.removeAttr("id"), o.mobileNav.find("*").each(function (t, n) { e(n).removeAttr("id") })), r.removeClasses && (o.mobileNav.removeAttr("class"), o.mobileNav.find("*").each(function (t, n) { e(n).removeAttr("class") })), n = a + "_icon", "" === r.label && (n += " " + a + "_no-text"), "a" == r.parentTag && (r.parentTag = 'a href="#"'), o.mobileNav.attr("class", a + "_nav"), i = e('<div class="' + a + '_menu"></div>'), "" !== r.brand) { var l = e('<div class="' + a + '_brand">' + r.brand + "</div>"); e(i).append(l) } o.btn = e(["<" + r.parentTag + ' aria-haspopup="true" tabindex="0" class="' + a + "_btn " + a + '_collapsed">', '<span class="' + a + '_menutxt">' + r.label + "</span>", '<span class="' + n + '">', '<span class="' + a + '_icon-bar"></span>', '<span class="' + a + '_icon-bar"></span>', '<span class="' + a + '_icon-bar"></span>', "</span>", "</" + r.parentTag + ">"].join("")), e(i).append(o.btn), e(r.prependTo).prepend(i), i.append(o.mobileNav); var c = o.mobileNav.find("li"); e(c).each(function () { var t = e(this), n = {}; if (n.children = t.children("ul").attr("role", "menu"), t.data("menu", n), n.children.length > 0) { var i = t.contents(), s = !1; nodes = [], e(i).each(function () { return !e(this).is("ul") && (nodes.push(this), void (e(this).is("a") && (s = !0))) }); var l = e("<" + r.parentTag + ' role="menuitem" aria-haspopup="true" tabindex="-1" class="' + a + '_item"/>'); if (r.allowParentLinks && !r.nestedParentLinks && s) e(nodes).wrapAll('<span class="' + a + "_parent-link " + a + '_row"/>').parent(); else e(nodes).wrapAll(l).parent().addClass(a + "_row"); t.addClass(a + "_collapsed"), t.addClass(a + "_parent"); var c = e('<span class="' + a + '_arrow">' + r.closedSymbol + "</span>"); r.allowParentLinks && !r.nestedParentLinks && s && (c = c.wrap(l).parent()), e(nodes).last().after(c) } else 0 === t.children().length && t.addClass(a + "_txtnode"); t.children("a").attr("role", "menuitem").click(function (t) { r.closeOnClick && !e(t.target).parent().closest("li").hasClass(a + "_parent") && e(o.btn).click() }), r.closeOnClick && r.allowParentLinks && (t.children("a").children("a").click(function (t) { e(o.btn).click() }), t.find("." + a + "_parent-link a:not(." + a + "_item)").click(function (t) { e(o.btn).click() })) }), e(c).each(function () { var t = e(this).data("menu"); r.showChildren || o._visibilityToggle(t.children, null, !1, null, !0) }), o._visibilityToggle(o.mobileNav, null, !1, "init", !0), o.mobileNav.attr("role", "menu"), e(t).mousedown(function () { o._outlines(!1) }), e(t).keyup(function () { o._outlines(!0) }), e(o.btn).click(function (e) { e.preventDefault(), o._menuToggle() }), o.mobileNav.on("click", "." + a + "_item", function (t) { t.preventDefault(), o._itemClick(e(this)) }), e(o.btn).keydown(function (e) { 13 == (e || event).keyCode && (e.preventDefault(), o._menuToggle()) }), o.mobileNav.on("keydown", "." + a + "_item", function (t) { 13 == (t || event).keyCode && (t.preventDefault(), o._itemClick(e(t.target))) }), r.allowParentLinks && r.nestedParentLinks && e("." + a + "_item a").click(function (e) { e.stopImmediatePropagation() }) }, i.prototype._menuToggle = function (e) { var t = this, n = t.btn, i = t.mobileNav; n.hasClass(a + "_collapsed") ? (n.removeClass(a + "_collapsed"), n.addClass(a + "_open")) : (n.removeClass(a + "_open"), n.addClass(a + "_collapsed")), n.addClass(a + "_animating"), t._visibilityToggle(i, n.parent(), !0, n) }, i.prototype._itemClick = function (e) { var t = this, n = t.settings, i = e.data("menu"); i || ((i = {}).arrow = e.children("." + a + "_arrow"), i.ul = e.next("ul"), i.parent = e.parent(), i.parent.hasClass(a + "_parent-link") && (i.parent = e.parent().parent(), i.ul = e.parent().next("ul")), e.data("menu", i)), i.parent.hasClass(a + "_collapsed") ? (i.arrow.html(n.openedSymbol), i.parent.removeClass(a + "_collapsed"), i.parent.addClass(a + "_open"), i.parent.addClass(a + "_animating"), t._visibilityToggle(i.ul, i.parent, !0, e)) : (i.arrow.html(n.closedSymbol), i.parent.addClass(a + "_collapsed"), i.parent.removeClass(a + "_open"), i.parent.addClass(a + "_animating"), t._visibilityToggle(i.ul, i.parent, !0, e)) }, i.prototype._visibilityToggle = function (t, n, i, o, s) { var r = this, l = r.settings, c = r._getActionItems(t), u = 0; i && (u = l.duration), t.hasClass(a + "_hidden") ? (t.removeClass(a + "_hidden"), s || l.beforeOpen(o), t.slideDown(u, l.easingOpen, function () { e(o).removeClass(a + "_animating"), e(n).removeClass(a + "_animating"), s || l.afterOpen(o) }), t.attr("aria-hidden", "false"), c.attr("tabindex", "0"), r._setVisAttr(t, !1)) : (t.addClass(a + "_hidden"), s ? "init" == o && l.init() : l.beforeClose(o), t.slideUp(u, this.settings.easingClose, function () { t.attr("aria-hidden", "true"), c.attr("tabindex", "-1"), r._setVisAttr(t, !0), t.hide(), e(o).removeClass(a + "_animating"), e(n).removeClass(a + "_animating"), s ? "init" == o && l.init() : l.afterClose(o) })) }, i.prototype._setVisAttr = function (t, n) { var i = this; t.children("li").children("ul").not("." + a + "_hidden").each(n ? function () { var t = e(this); t.attr("aria-hidden", "true"), i._getActionItems(t).attr("tabindex", "-1"), i._setVisAttr(t, n) } : function () { var t = e(this); t.attr("aria-hidden", "false"), i._getActionItems(t).attr("tabindex", "0"), i._setVisAttr(t, n) }) }, i.prototype._getActionItems = function (e) { var t = e.data("menu"); if (!t) { t = {}; var n = e.children("li"), i = n.find("a"); t.links = i.add(n.find("." + a + "_item")), e.data("menu", t) } return t.links }, i.prototype._outlines = function (t) { t ? e("." + a + "_item, ." + a + "_btn").css("outline", "") : e("." + a + "_item, ." + a + "_btn").css("outline", "none") }, i.prototype.toggle = function () { this._menuToggle() }, i.prototype.open = function () { this.btn.hasClass(a + "_collapsed") && this._menuToggle() }, i.prototype.close = function () { this.btn.hasClass(a + "_open") && this._menuToggle() }, e.fn[s] = function (t) { var n, o = arguments; return void 0 === t || "object" == typeof t ? this.each(function () { e.data(this, "plugin_" + s) || e.data(this, "plugin_" + s, new i(this, t)) }) : "string" == typeof t && "_" !== t[0] && "init" !== t ? (this.each(function () { var a = e.data(this, "plugin_" + s); a instanceof i && "function" == typeof a[t] && (n = a[t].apply(a, Array.prototype.slice.call(o, 1))) }), void 0 !== n ? n : this) : void 0 } }(jQuery, document, window), function (e) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], e) : e("object" == typeof exports && "function" == typeof require ? require("jquery") : jQuery) }(function (e) { "use strict"; function t(n, i) { var o = function () { }, s = this, a = { ajaxSettings: {}, autoSelectFirst: !1, appendTo: document.body, serviceUrl: "/ac", lookup: null, onSelect: null, width: "auto", minChars: 1, maxHeight: 300, deferRequestBy: 0, params: {}, formatResult: t.formatResult, delimiter: null, zIndex: 9999, type: "GET", noCache: !1, onSearchStart: o, onSearchComplete: o, onSearchError: o, preserveInput: !1, containerClass: "autocomplete-suggestions", tabDisabled: !1, dataType: "text", currentRequest: null, triggerSelectOnValidInput: !0, preventBadQueries: !0, lookupFilter: function (e, t, n) { return -1 !== e.value.toLowerCase().indexOf(n) }, paramName: "query", transformResult: function (t) { return "string" == typeof t ? e.parseJSON(t) : t }, showNoSuggestionNotice: !1, noSuggestionNotice: "No results", orientation: "bottom", forceFixPosition: !1 }; s.element = n, s.el = e(n), s.suggestions = [], s.badQueries = [], s.selectedIndex = -1, s.currentValue = s.element.value, s.intervalId = 0, s.cachedResponse = {}, s.onChangeInterval = null, s.onChange = null, s.isLocal = !1, s.suggestionsContainer = null, s.noSuggestionsContainer = null, s.options = e.extend({}, a, i), s.classes = { selected: "autocomplete-selected", suggestion: "autocomplete-suggestion" }, s.hint = null, s.hintValue = "", s.selection = null, s.initialize(), s.setOptions(i) } var n = { escapeRegExChars: function (e) { return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") }, createNode: function (e) { var t = document.createElement("div"); return t.className = e, t.style.position = "absolute", t.style.display = "none", t } }, i = 27, o = 9, s = 13, a = 38, r = 39, l = 40; t.utils = n, e.Autocomplete = t, t.formatResult = function (e, t) { if (!t) return e.value; var i = "(" + n.escapeRegExChars(t) + ")"; return e.value.replace(new RegExp(i, "gi"), "<strong>$1</strong>").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/&lt;(\/?strong)&gt;/g, "<$1>") }, t.prototype = { killerFn: null, initialize: function () { var n, i = this, o = "." + i.classes.suggestion, s = i.classes.selected, a = i.options; i.element.setAttribute("autocomplete", "off"), i.killerFn = function (t) { 0 === e(t.target).closest("." + i.options.containerClass).length && (i.killSuggestions(), i.disableKillerFn()) }, i.noSuggestionsContainer = e('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0), i.suggestionsContainer = t.utils.createNode(a.containerClass), (n = e(i.suggestionsContainer)).appendTo(a.appendTo), "auto" !== a.width && n.width(a.width), n.on("mouseover.autocomplete", o, function () { i.activate(e(this).data("index")) }), n.on("mouseout.autocomplete", function () { i.selectedIndex = -1, n.children("." + s).removeClass(s) }), n.on("click.autocomplete", o, function () { return i.select(e(this).data("index")), !1 }), i.fixPositionCapture = function () { i.visible && i.fixPosition() }, e(window).on("resize.autocomplete", i.fixPositionCapture), i.el.on("keydown.autocomplete", function (e) { i.onKeyPress(e) }), i.el.on("keyup.autocomplete", function (e) { i.onKeyUp(e) }), i.el.on("blur.autocomplete", function () { i.onBlur() }), i.el.on("focus.autocomplete", function () { i.onFocus() }), i.el.on("change.autocomplete", function (e) { i.onKeyUp(e) }), i.el.on("input.autocomplete", function (e) { i.onKeyUp(e) }) }, onFocus: function () { var e = this; e.fixPosition(), e.el.val().length >= e.options.minChars && e.onValueChange() }, onBlur: function () { this.enableKillerFn() }, abortAjax: function () { var e = this; e.currentRequest && (e.currentRequest.abort(), e.currentRequest = null) }, setOptions: function (t) { var n = this, i = n.options; e.extend(i, t), n.isLocal = e.isArray(i.lookup), n.isLocal && (i.lookup = n.verifySuggestionsFormat(i.lookup)), i.orientation = n.validateOrientation(i.orientation, "bottom"), e(n.suggestionsContainer).css({ "max-height": i.maxHeight + "px", width: i.width + "px", "z-index": i.zIndex }) }, clearCache: function () { this.cachedResponse = {}, this.badQueries = [] }, clear: function () { this.clearCache(), this.currentValue = "", this.suggestions = [] }, disable: function () { var e = this; e.disabled = !0, clearInterval(e.onChangeInterval), e.abortAjax() }, enable: function () { this.disabled = !1 }, fixPosition: function () { var t = this, n = e(t.suggestionsContainer), i = n.parent().get(0); if (i === document.body || t.options.forceFixPosition) { var o = t.options.orientation, s = n.outerHeight(), a = t.el.outerHeight(), r = t.el.offset(), l = { top: r.top, left: r.left }; if ("auto" === o) { var c = e(window).height(), u = e(window).scrollTop(), d = -u + r.top - s, p = u + c - (r.top + a + s); o = Math.max(d, p) === d ? "top" : "bottom" } if (l.top += "top" === o ? -s : a, i !== document.body) { var h, f = n.css("opacity"); t.visible || n.css("opacity", 0).show(), h = n.offsetParent().offset(), l.top -= h.top, l.left -= h.left, t.visible || n.css("opacity", f).hide() } "auto" === t.options.width && (l.width = t.el.outerWidth() - 2 + "px"), n.css(l) } }, enableKillerFn: function () { e(document).on("click.autocomplete", this.killerFn) }, disableKillerFn: function () { e(document).off("click.autocomplete", this.killerFn) }, killSuggestions: function () { var e = this; e.stopKillSuggestions(), e.intervalId = window.setInterval(function () { e.visible && (e.el.val(e.currentValue), e.hide()), e.stopKillSuggestions() }, 50) }, stopKillSuggestions: function () { window.clearInterval(this.intervalId) }, isCursorAtEnd: function () { var e, t = this.el.val().length, n = this.element.selectionStart; return "number" == typeof n ? n === t : !document.selection || ((e = document.selection.createRange()).moveStart("character", -t), t === e.text.length) }, onKeyPress: function (e) { var t = this; if (t.disabled || t.visible || e.which !== l || !t.currentValue) { if (!t.disabled && t.visible) { switch (e.which) { case i: t.el.val(t.currentValue), t.hide(); break; case r: if (t.hint && t.options.onHint && t.isCursorAtEnd()) { t.selectHint(); break } return; case o: if (t.hint && t.options.onHint) return void t.selectHint(); if (-1 === t.selectedIndex) return void t.hide(); if (t.select(t.selectedIndex), !1 === t.options.tabDisabled) return; break; case s: if (-1 === t.selectedIndex) return void t.hide(); t.select(t.selectedIndex); break; case a: t.moveUp(); break; case l: t.moveDown(); break; default: return }e.stopImmediatePropagation(), e.preventDefault() } } else t.suggest() }, onKeyUp: function (e) { var t = this; if (!t.disabled) { switch (e.which) { case a: case l: return }clearInterval(t.onChangeInterval), t.currentValue !== t.el.val() && (t.findBestHint(), t.options.deferRequestBy > 0 ? t.onChangeInterval = setInterval(function () { t.onValueChange() }, t.options.deferRequestBy) : t.onValueChange()) } }, onValueChange: function () { var t = this, n = t.options, i = t.el.val(), o = t.getQuery(i); return t.selection && t.currentValue !== o && (t.selection = null, (n.onInvalidateSelection || e.noop).call(t.element)), clearInterval(t.onChangeInterval), t.currentValue = i, t.selectedIndex = -1, n.triggerSelectOnValidInput && t.isExactMatch(o) ? void t.select(0) : void (o.length < n.minChars ? t.hide() : t.getSuggestions(o)) }, isExactMatch: function (e) { var t = this.suggestions; return 1 === t.length && t[0].value.toLowerCase() === e.toLowerCase() }, getQuery: function (t) { var n, i = this.options.delimiter; return i ? (n = t.split(i), e.trim(n[n.length - 1])) : t }, getSuggestionsLocal: function (t) { var n, i = this.options, o = t.toLowerCase(), s = i.lookupFilter, a = parseInt(i.lookupLimit, 10); return n = { suggestions: e.grep(i.lookup, function (e) { return s(e, t, o) }) }, a && n.suggestions.length > a && (n.suggestions = n.suggestions.slice(0, a)), n }, getSuggestions: function (t) { var n, i, o, s, a = this, r = a.options, l = r.serviceUrl; if (r.params[r.paramName] = t, i = r.ignoreParams ? null : r.params, !1 !== r.onSearchStart.call(a.element, r.params)) { if (e.isFunction(r.lookup)) return void r.lookup(t, function (e) { a.suggestions = e.suggestions, a.suggest(), r.onSearchComplete.call(a.element, t, e.suggestions) }); a.isLocal ? n = a.getSuggestionsLocal(t) : (e.isFunction(l) && (l = l.call(a.element, t)), o = l + "?" + e.param(i || {}), n = a.cachedResponse[o]), n && e.isArray(n.suggestions) ? (a.suggestions = n.suggestions, a.suggest(), r.onSearchComplete.call(a.element, t, n.suggestions)) : a.isBadQuery(t) ? r.onSearchComplete.call(a.element, t, []) : (a.abortAjax(), s = { url: l, data: i, type: r.type, dataType: r.dataType }, e.extend(s, r.ajaxSettings), a.currentRequest = e.ajax(s).done(function (e) { var n; a.currentRequest = null, n = r.transformResult(e, t), a.processResponse(n, t, o), r.onSearchComplete.call(a.element, t, n.suggestions) }).fail(function (e, n, i) { r.onSearchError.call(a.element, t, e, n, i) })) } }, isBadQuery: function (e) { if (!this.options.preventBadQueries) return !1; for (var t = this.badQueries, n = t.length; n--;)if (0 === e.indexOf(t[n])) return !0; return !1 }, hide: function () { var t = this, n = e(t.suggestionsContainer); e.isFunction(t.options.onHide) && t.visible && t.options.onHide.call(t.element, n), t.visible = !1, t.selectedIndex = -1, clearInterval(t.onChangeInterval), e(t.suggestionsContainer).hide(), t.signalHint(null) }, suggest: function () { if (0 !== this.suggestions.length) { var t, n = this, i = n.options, o = i.groupBy, s = i.formatResult, a = n.getQuery(n.currentValue), r = n.classes.suggestion, l = n.classes.selected, c = e(n.suggestionsContainer), u = e(n.noSuggestionsContainer), d = i.beforeRender, p = "", h = function (e, n) { var i = e.data[o]; return t === i ? "" : '<div class="autocomplete-group"><strong>' + (t = i) + "</strong></div>" }; return i.triggerSelectOnValidInput && n.isExactMatch(a) ? void n.select(0) : (e.each(n.suggestions, function (e, t) { o && (p += h(t, 0)), p += '<div class="' + r + '" data-index="' + e + '">' + s(t, a, e) + "</div>" }), this.adjustContainerWidth(), u.detach(), c.html(p), e.isFunction(d) && d.call(n.element, c, n.suggestions), n.fixPosition(), c.show(), i.autoSelectFirst && (n.selectedIndex = 0, c.scrollTop(0), c.children("." + r).first().addClass(l)), n.visible = !0, void n.findBestHint()) } this.options.showNoSuggestionNotice ? this.noSuggestions() : this.hide() }, noSuggestions: function () { var t = this, n = e(t.suggestionsContainer), i = e(t.noSuggestionsContainer); this.adjustContainerWidth(), i.detach(), n.empty(), n.append(i), t.fixPosition(), n.show(), t.visible = !0 }, adjustContainerWidth: function () { var t, n = this, i = n.options, o = e(n.suggestionsContainer); "auto" === i.width && (t = n.el.outerWidth() - 2, o.width(t > 0 ? t : 300)) }, findBestHint: function () { var t = this, n = t.el.val().toLowerCase(), i = null; n && (e.each(t.suggestions, function (e, t) { var o = 0 === t.value.toLowerCase().indexOf(n); return o && (i = t), !o }), t.signalHint(i)) }, signalHint: function (t) { var n = "", i = this; t && (n = i.currentValue + t.value.substr(i.currentValue.length)), i.hintValue !== n && (i.hintValue = n, i.hint = t, (this.options.onHint || e.noop)(n)) }, verifySuggestionsFormat: function (t) { return t.length && "string" == typeof t[0] ? e.map(t, function (e) { return { value: e, data: null } }) : t }, validateOrientation: function (t, n) { return t = e.trim(t || "").toLowerCase(), -1 === e.inArray(t, ["auto", "bottom", "top"]) && (t = n), t }, processResponse: function (e, t, n) { var i = this, o = i.options; e.suggestions = i.verifySuggestionsFormat(e.suggestions), o.noCache || (i.cachedResponse[n] = e, o.preventBadQueries && 0 === e.suggestions.length && i.badQueries.push(t)), t === i.getQuery(i.currentValue) && (i.suggestions = e.suggestions, i.suggest()) }, activate: function (t) { var n, i = this, o = i.classes.selected, s = e(i.suggestionsContainer), a = s.find("." + i.classes.suggestion); return s.find("." + o).removeClass(o), i.selectedIndex = t, -1 !== i.selectedIndex && a.length > i.selectedIndex ? (n = a.get(i.selectedIndex), e(n).addClass(o), n) : null }, selectHint: function () { var t = this, n = e.inArray(t.hint, t.suggestions); t.select(n) }, select: function (e) { this.hide(), this.onSelect(e) }, moveUp: function () { var t = this; if (-1 !== t.selectedIndex) return 0 === t.selectedIndex ? (e(t.suggestionsContainer).children().first().removeClass(t.classes.selected), t.selectedIndex = -1, t.el.val(t.currentValue), void t.findBestHint()) : void t.adjustScroll(t.selectedIndex - 1) }, moveDown: function () { var e = this; e.selectedIndex !== e.suggestions.length - 1 && e.adjustScroll(e.selectedIndex + 1) }, adjustScroll: function (t) { var n = this, i = n.activate(t); if (i) { var o, s, a, r = e(i).outerHeight(); o = i.offsetTop, a = (s = e(n.suggestionsContainer).scrollTop()) + n.options.maxHeight - r, s > o ? e(n.suggestionsContainer).scrollTop(o) : o > a && e(n.suggestionsContainer).scrollTop(o - n.options.maxHeight + r), n.options.preserveInput || n.el.val(n.getValue(n.suggestions[t].value)), n.signalHint(null) } }, onSelect: function (t) { var n = this, i = n.options.onSelect, o = n.suggestions[t]; n.currentValue = n.getValue(o.value), n.currentValue === n.el.val() || n.options.preserveInput || n.el.val(n.currentValue), n.signalHint(null), n.suggestions = [], n.selection = o, e.isFunction(i) && i.call(n.element, o) }, getValue: function (e) { var t, n, i = this.options.delimiter; return i ? 1 === (n = (t = this.currentValue).split(i)).length ? e : t.substr(0, t.length - n[n.length - 1].length) + e : e }, dispose: function () { var t = this; t.el.off(".autocomplete").removeData("autocomplete"), t.disableKillerFn(), e(window).off("resize.autocomplete", t.fixPositionCapture), e(t.suggestionsContainer).remove() } }, e.fn.autocomplete = e.fn.devbridgeAutocomplete = function (n, i) { var o = "autocomplete"; return 0 === arguments.length ? this.first().data(o) : this.each(function () { var s = e(this), a = s.data(o); "string" == typeof n ? a && "function" == typeof a[n] && a[n](i) : (a && a.dispose && a.dispose(), a = new t(this, n), s.data(o, a)) }) } }), $(document).ready(function () { var e = "-48px", t = "-168px", n = !1; function i() { $("#sdiv").stop(!0, !1).animate({ left: e }, 180, "linear", function () { $("#term").attr("placeholder", "Search"), n = !1 }) } mobileSearchAnimateOffset = "-70px", moblieSearchTopOffset = "-10px", isMobileWidth = getIsMobileWidth(), $("#sbutton").on({ mouseleave: function () { i() } }), $("#term").on({ focusin: function () { n && i() } }), $("#submit").on({ mouseenter: function () { "" != $("#term").val() || n || ($("#term").attr("placeholder", "").val("").blur(), $("#sdiv").stop(!0, !1).animate({ left: t }, 180, "linear", function () { n = !0 })) } }), $("#search_button").on("click", function () { return $("#swrap").hasClass("searchopen") ? ($("#swrap").removeClass("searchopen"), $(this).focus()) : ($("#swrap").addClass("searchopen"), $("#term").focus(), $("#menu").slicknav("close")), !1 }), $("#term").autocomplete({ triggerSelectOnValidInput: !1, groupBy: "category", onSelect: function (e) { $("#term").val(e.value), $("#submit").click() } }), $(".topList .show").click(function (e) { e.preventDefault(), $(".topExt").show("fast"), $(".show").hide(), $(".hide").show("fast") }), $(".topList .hide").click(function (e) { e.preventDefault(), $(".topExt").hide(), $(".show").show(), $(".hide").hide() }), $('.advSearchBox [role="tab"]').click(function () { $('.advSearchBox [role="tab"]').attr("aria-selected", "false"), $('.advSearchBox [role="tabpanel"]').attr("hidden", "hidden"), $(this).attr("aria-selected", "true"); var e = $(this).attr("aria-controls"); "software-tab" == e ? ($('.advSearchBox input[name="sfield"]').prop("checked", !1), $('.advSearchBox .softwarefields input[name="sfield"]').first().prop("checked", !0)) : "extension-tab" == e && ($('.advSearchBox input[name="sfield"]').prop("checked", !1), $('.advSearchBox .extensionfields input[value="description"]').first().prop("checked", !0)), $("#" + e).removeAttr("hidden"), $("input[name=sterm]").focus() }), $(".opengss").click(function (e) { $("#advSearchBody").hide(), $("#gss").show(), $(".searchHeader a").attr("href", "/search"), $(".searchHeader a").click(function (e) { $("#gss").hide(), $("#advSearchBody").show(), $(this).attr("href", "/"), $(this).off("click"), e.preventDefault() }), $('input[name="q"]').focus(), e.preventDefault() }), $(".closegss").click(function (e) { $("#gss").hide(), $("#advSearchBody").show(), $(".searchHeader a").attr("href", "/"), $(".searchHeader a").off("click"); var t = $('.advSearchBox [role="tab"][aria-selected="true"]').first().attr("aria-controls"); $('input[name="sterm"]', "#" + t).focus(), e.preventDefault() }), $("#hterm").autocomplete({ triggerSelectOnValidInput: !1, groupBy: "category", onSelect: function (e) { $("#hterm").val(e.value), $("#hs").click() } }), $("#menu").slicknav({ init: function () { $(".slicknav_btn").attr("aria-label", "menu") }, beforeOpen: function () { getIsMobileWidth() && "visible" == $("#swrap").css("visibility") && $("#search_button").click(), initThemeToggle() } }), $(".formatButton").click(function (e) { e.preventDefault(), self = this, formatID = $(this).data("id"), heading = formatInfo[formatID].heading, detail = formatInfo[formatID].detail, tdEl = $(this).parent("td"), $(".format", tdEl).html('<div class="formatx"><a href="" aria-label="close">X</a></div><h4>' + heading + "</h4><p>" + detail + "</p>"), $(".formatx", tdEl).click(function (e) { e.preventDefault(), $(this).parent(".format").hide(), $(this).parent(".format").html(""), $(self).focus(), e.offsetX && e.offsetY && $(self).css("outline", "none") }), $(".format", tdEl).fadeIn(200), $(".formatx a", tdEl).focus(), e.offsetX && e.offsetY && $(".formatx a", tdEl).css("outline", "none") }), $(".licenseheading").click(function (e) { e.preventDefault(), self = this, programsmenu = $(this).parent(".programsmenu"), $(".licenseinfox", programsmenu).click(function (e) { e.preventDefault(), $(this).parent(".licenseinfo").fadeOut(200), $(self).focus(), e.offsetX && e.offsetY && $(self).css("outline", "none") }), $(document).click(function (e) { $(e.target).closest(".licenseinfo").length || $(e.target).closest(".licenseheading").length || $(".licenseinfo").fadeOut(200) }), linfo = $(".licenseinfo", programsmenu).first(), linfooffset = linfo.offset(), $(linfo).fadeIn(200), $(document).height() - $(linfo).height() - 500 < linfooffset.top && ($(linfo).css("top", "auto"), $(linfo).css("bottom", 0)), $(self).hasClass("pricing-loaded") || $.get("/inc/pricing.php", function (e) { $(linfo).append(e), $(self).addClass("pricing-loaded") }), $(".licenseinfox a", programsmenu).focus(), e.offsetX && e.offsetY && $(".licenseinfox a").css("outline", "none") }), $(".multi .drawerToggle").click(function (e) { $(this).closest(".multi").toggleClass("closed"), e.preventDefault() }), $(".multi ul a").click(function (e) { var t = $(this).attr("href"); (t = "#" + (t = t.substr(1)).replace(/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g, "\\$1")).length && (e.preventDefault(), $("html, body").animate({ scrollTop: $(t).offset().top }, 250, function () { $(t).focus() })) }) }), $(document).ready(function () { if ($(".adRightSky").length) { var e = 66, t = parseInt($(".adRightSky").css("margin-top")), n = !1, i = 0, o = 758, s = 700; function a() { var a = $(".adRightSky"), r = $(".adRightSky").offset().top, l = r - $(window).scrollTop(); $(window).width() < o || $(window).height() < s ? "fixed" == a.css("position") && (a.css({ position: "", top: "" }), n = !1) : $("#right").height() > $("#lwrap").height() || (n ? r < i && "fixed" == a.css("position") && (a.css({ position: "", top: "" }), n = !1) : l <= e && (n || "fixed" == a.css("position") || (a.css({ position: "fixed", top: e - t + "px" }), n = !0, i = r))) } $(document).on("scroll", function () { a() }), $(window).on("resize", function () { a() }) } }), initThemeToggle(), $("#showPreviousTypes").click(function () { $(".previousTypes").has(".feed").length || ($(".previousTypes .drawer").append('<ul class="feed"></ul><a class="loadmore navButton">Load More</a>'), $(".previousTypes .loadmore").click(function () { gtag("event", "load more", { event_category: "previous types" }), loadpreviousTypes() }), loadpreviousTypes(), gtag("event", "open", { event_category: "previous types" })), $(".previousTypes").toggleClass("closed"), $(".previousTypes .drawer").slideToggle(200), $(this).blur() }), $("#hterm[data-mp]").length) { function mobilePlaceholder() { if (window.innerWidth <= "758") { var e = $("#hterm"); $(e).attr("placeholder", "e.g. " + $(e).data("mp")), $(window).off("resize.mobileplaceholder"), $("#hterm").removeAttr("data-mp") } } $(window).on("resize.mobileplaceholder", function () { mobilePlaceholder() }), mobilePlaceholder() } var programsBoxReset = []; function scorePricing(e) { switch (e) { case "free": return 0; case "free+": return 1; case "free trial": return 2; case "included with os": return 3; case "paid": return 4; default: return 5 } } function sortCompare(e, t, n) { if ("desc" == n) { if (e < t) return 1; if (e > t) return -1 } else { if (e < t) return -1; if (e > t) return 1 } return 0 } $(".sort").click(function () { var e = $(this).closest(".ext"); $(".sortmenu", e).toggle(), $(document).click(function (e) { $(e.target).closest(".sortmenu").length || $(e.target).closest(".sort").length || $(".sortmenu").fadeOut(100) }) }), $('.psort:not([data-sort="platform"])').click(function () { var e = $(this).closest(".ext"), t = $(e).attr("id"); $(".sortmenu", e).fadeOut(100); var n = "asc", i = "." + $(this).attr("data-sort"); "asc" == $(this).attr("data-order") && (n = "desc"), $(".sortmenu", e).hasClass("sorted") || (programsBoxReset[t] || (programsBoxReset[t] = $(".programsBox", e).html()), $(".sortmenu", e).addClass("sorted")), $(".programs", e).each(function () { var e = $(".apps", this), t = $(".app", e); t.sort(function (e, t) { var o = $(i, e).text().toLowerCase(), s = $(i, t).text().toLowerCase(); return ".license" == i && (o = scorePricing(o), s = scorePricing(s)), sortCompare(o, s, n) }), $(e).html(""), $.each(t, function (t, n) { $(e).append(n.outerHTML) }) }), $('.psort:not([data-sort="platform"])', e).attr("data-order", null), $(this).attr("data-order", n) }), $('.psort[data-sort="platform"]').click(function () { var e = $(this).closest(".ext"), t = $(e).attr("id"); $(".sortmenu", e).fadeOut(100); var n = "asc"; "asc" == $(this).attr("data-order") && (n = "desc"), $(this).attr("data-order", n), $(".sortmenu", e).hasClass("sorted") || (programsBoxReset[t] || (programsBoxReset[t] = $(".programsBox", e).html()), $(".sortmenu", e).addClass("sorted")); var i = $(".programsBox", e), o = $(".programs", i); o.sort(function (e, t) { return sortCompare($(".platform", e).text().toLowerCase(), $(".platform", t).text().toLowerCase(), n) }), $(i).html(""), $.each(o, function (e, t) { $(i).append(t.outerHTML) }), $(this).attr("data-order", n) }), $(".sort-reset").click(function () { var e = $(this).closest(".ext"), t = $(e).attr("id"); $(".programsBox", e).html(programsBoxReset[t]), $(".sortmenu", e).removeClass("sorted"), $(".psort", e).attr("data-order", null), $(".sortmenu", e).fadeOut(100) }), $(".browselist").length && $(".browselist tr").click(function (e) { (link = $("a", this).attr("href")) && (window.location.href = link) });